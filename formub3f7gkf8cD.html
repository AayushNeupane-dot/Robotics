<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VSN Robotics Club</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
    <link rel="stylesheet" type="text/css" href="style/style.css">
    <link rel="icon" href="images/favicon.svg">
    <link rel="manifest" href="images/site.webmanifest">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital@0;1&display=swap" rel="stylesheet">
    <script src="Js/main.js"></script>
    <script src="https://kit.fontawesome.com/27061a3f4a.js" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.4.2/css/all.css">
    <script src="https://kit.fontawesome.com/27061a3f4a.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" />
    <style>
html, body {
    height: 100%;
    margin: 0;
}

body {
    display: flex;
    flex-direction: column;
    min-height: 100vh; 
}

.content-wrap {
    flex: 1; 
}

.containerMain {
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
    border-radius: 8px;
    margin-top: 50px;
    margin-bottom: 50px;
}

h1 {
    text-align: center;
    margin-bottom: 20px;
    color: #333;
}

.containerForm {
    display: none;
    border: 1px solid #ccc;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 20px;
}

.containerForm h2 {
    margin-bottom: 20px;
    color: #333;
    font-size: 24px;
}


.formSelector {
    display: flex;
    justify-content: space-around;
    margin-bottom: 20px;
}

.formSelector div {
    padding: 15px 20px; 
    border: 2px solid #333; 
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    text-align: center; 
    color: #333; 
    font-weight: bold; 
}

.formSelector div:hover {
    background-color: #f0f0f0;
}
#experience::placeholder {
        color: transparent;
    }
#experience:focus::placeholder {
        color: #888; 
    }
    </style>
</head>
<body>
    <div class="content-wrap">
        <section id="home">
            <div class="containerHome" style="background-color: #f2f2f2; border: none; border-bottom: 1px solid #ccc;">
                <nav id="navbar" >
                    <h1 class="title"><a href="index.html"><img src="images/logo.svg" style="margin-top: 20px;" alt=""></a></h1>
                    <div class="hamburger" onclick="toggleNav()">&#9776;</div>
                    <ul class="nav" >
                        <li><a href="index.html"><i class="fa-solid fa-house"></i> Home</a></li>
                        <li><a href="index.html#notice"><i class="fa-solid fa-bell"></i> Notice/Post</a></li>
                        <li><a href="gallery.html"><i class="fa-light fa-gallery-thumbnails"></i> Photos</a></li>
                        <li><a href="form.html"><i class="fa-solid fa-file-invoice"></i> Forms</a></li>
                        <li><a href="aboutus.html"><i class="fa-regular fa-address-card"></i> About Us</a></li>
                    </ul>
                </nav>
            </div>

            <div class="containerMain" >
                <h1 data-aos="fade-down" data-aos-duration="1000">Select a Form</h1>
                <div class="formSelector" data-aos="fade-up" data-aos-duration="1000">
                    <!-- <div onclick="showForm('form1')" style="visibility: hidden;">Form 1</div> -->
                    <div data-aos="fade-up" data-aos-duration="1000" onclick="toggleForm('application')">Apply to be a member for VSN Robotics Club!</div>
                    <!-- <div onclick="showForm('form3')" style="visibility: hidden;">Form 3</div> -->
                </div>
                
                <div id="application" class="containerForm" style="display:none;">
                    <h2>VSN Robotics Club Application Form.</h2>
                    <p>Deadline: August 28, 2024</p><br>
                    <form id="form1">

                        <div class="input-group">
                            <input type="text" id="name" name="entry.655814488"  required class="input">
                            <label class="user-label" for="name">Name</label>
                        </div>
                    
                        <div class="input-group">
                            <input type="email" id="email" name="entry.20434907" required class="input">
                            <label class="user-label" for="email">Email</label>
                        </div>
                    
                        <div class="input-group">
                            <input type="number" id="phone" name="entry.971323181"  required class="input">
                            <label class="user-label" for="phone">Phone No</label>
                        </div>
                    
                        <div class="input-group">
                            <select id="grade" name="entry.174281060" required class="input">
                                <option value="Grade 11">Grade 11</option>
                            </select>
                            <label class="user-label" for="grade">Grade</label>
                        </div>
                    
                        <div class="input-group">
                            <select id="faculty" name="entry.1376575626" required  autocomplete="off" class="input">
                                <option value="Science">Science</option>
                                <option value="Management">Management</option>
                            </select>
                            <label class="user-label" for="faculty">Faculty</label>
                        </div>
                    
                        <div class="input-group">
                            <input type="text" id="section" name="entry.837168643" required  autocomplete="off" class="input">
                            <label class="user-label" for="section">Section</label>
                        </div>
                    
                        <div class="input-group">
                            <textarea id="whyJoin" name="entry.663164693" required autocomplete="off"  id="query" rows="4"  class="input"></textarea>
                            <label class="user-label" for="whyJoin">Why do you want to join us?</label>
                        </div>

                        <div class="input-group">
                            <textarea id="info" name="entry.893229520" required autocomplete="off"  id="query" rows="4"  class="input"></textarea>
                            <label class="user-label" for="info">What info do you have on this club?</label>
                        </div>
                    
                        <div class="input-group">
                            <textarea id="experience" name="entry.546343269" required autocomplete="off" rows="4" class="input" placeholder="If you do not have any previous experience, please type 'N/A' in the input field."></textarea>
                            <label class="user-label" for="experience">Previous Experience</label>
                        </div>
                        <div class="input-group">
                            <textarea id="strengths" name="entry.856044234" required autocomplete="off"  id="query" rows="4"  class="input"></textarea>
                            <label class="user-label" for="strengths">Strengths</label>
                        </div>
                    
                        <div class="input-group">
                            <textarea id="weaknesses" name="entry.985538794" required  autocomplete="off"  id="query" rows="4" class="input"></textarea>
                            <label class="user-label" for="weaknesses">Weaknesses</label>
                        </div>
                    
                        <div class="input-group">
                            <textarea id="whySelect" name="entry.1967308877"  required autocomplete="off"  id="query" rows="4"  class="input"></textarea>
                            <label class="user-label" for="whySelect">Why should we select you?</label>
                        </div>
                    
                        <button type="submit">Submit</button>
                    </form>
                    
                </div>
            </div>
        </section>
    </div>

    <footer class="footer">
        <div class="footerContainer">
            <div class="footerLogo">
                <h3>VSN Robotics Club</h3>
                <h6 style="margin-top: 5px; font-weight: normal; color:#e6d9d9; ">Minbhawan, Kathmandu, Nepal</h6>
            </div>
            <div class="footerLinks">
                <ul>
                    <li><a href="index.html"><i class="fa-solid fa-house"></i> Home</a></li>
                    <li><a href="index.html#notice"><i class="fa-solid fa-bell"></i> Notice/Post</a></li>
                    <li><a href="gallery.html"><i class="fa-light fa-gallery-thumbnails"></i> Photos</a></li>
                    <li><a href="form.html"><i class="fa-solid fa-file-invoice"></i> Forms</a></li>
                    <li><a href="aboutus.html"><i class="fa-regular fa-address-card"></i> About Us</a></li>
                </ul>
            </div>
            <div class="footerSocial">
                <h3>Follow Us</h3>
                <ul>
                    <li><a href="https://www.facebook.com/vsnroboticsclub" target="_blank"><i class="fab fa-facebook-f"></i></a></li>
                    <li><a href="https://www.instagram.com/vsnroboticsclub/"  target="_blank"><i class="fab fa-instagram"></i></a></li>
                </ul>
            </div>
        </div>
        <div class="footerBottom">
            <p>
                <a href="tel:+9779813457609">+977 9813457609</a><br>
                <a href="mailto:info@vsnroboticsclub.com">info@vsnroboticsclub.com</a>
              </p>
            <p style="font-size: 0.8em; margin-top: 20px;">&copy; 2025 VSN Robotics Club. All rights reserved.<br><br>Created by VSN Robotics Club Batch 2081</p>
        </div>
    </footer>         
    <script src="https://cdn.rawgit.com/michalsnik/aos/2.1.1/dist/aos.js"></script>
    <script>
        window.addEventListener('message', function(event) {
            if (event.data === 'toggleForm') {
                toggleForm('application');
            }
        });

        function toggleForm(formId) {
            var form = document.getElementById(formId);
            form.style.display = (form.style.display === 'none' || form.style.display === '') ? 'block' : 'none';
        }
        document.addEventListener("DOMContentLoaded", function() {
            fetch('/.netlify/functions/api-key-fetcher')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Failed to fetch Netlify function data');
                    }
                    return response.json();
                })
                .then(data => {
                    const formUrl = data.formUrl;

                    if (!formUrl) {
                        throw new Error('Form URL is not defined');
                    }

                    document.getElementById('form1').addEventListener('submit', function(event) {
                        event.preventDefault(); 

                        var formData = new FormData(this);
                        var submitButton = this.querySelector('button[type="submit"]');
                        var originalButtonText = submitButton.textContent;
                        submitButton.disabled = true;
                        submitButton.textContent = "Please Wait...";

                        fetch(formUrl, {
                            method: 'POST',
                            body: formData,
                            mode: 'no-cors'
                        })
                        .then(() => {
                            Swal.fire({
                                icon: "success",
                                title: "Application has been submitted successfully!",
                                showCloseButton: true,
                                confirmButtonText: "OK",
                            }).then(() => {
                                submitButton.disabled = false;
                                submitButton.textContent = originalButtonText;
                                this.reset();
                            });
                        })
                        .catch(error => {
                            console.error('Error submitting form:', error);
                            Swal.fire({
                                icon: "error",
                                title: "Failed to send application.",
                                text: "Something went wrong!",
                                showConfirmButton: true,
                                confirmButtonText: "OK",
                            }).then(() => {
                                submitButton.disabled = false;
                                submitButton.textContent = originalButtonText;
                            });
                        });
                    });
                })
                .catch(error => {
                    console.error('Error fetching Netlify function data:', error);
                });
        });
    </script>
    

</body>
</html>

